<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../.resources/report.gif" type="image/gif"/><title>SpringBootConfigProps.java</title><link rel="stylesheet" href="../../../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../.sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">Smuggler All Tests (Mar 29, 2016 9:20:39 AM)</a> &gt; <a href="../../index.html" class="el_group">ome-smuggler</a> &gt; <a href="../index.html" class="el_bundle">src/main/java</a> &gt; <a href="index.source.html" class="el_package">ome.smuggler.config.items</a> &gt; <span class="el_source">SpringBootConfigProps.java</span></div><h1>SpringBootConfigProps.java</h1><pre class="source lang-java linenums">package ome.smuggler.config.items;

import static util.config.props.JPropAccessorFactory.makeBool;
import static util.config.props.JPropAccessorFactory.makeEnum;
import static util.config.props.JPropAccessorFactory.makeInt;
import static util.config.props.JPropAccessorFactory.makeString;
import static util.config.props.JPropKey.key;

import java.util.stream.Stream;

import util.config.props.JPropAccessor;
import util.config.props.JPropSetter;

/**
 * Accessors for Spring Boot application properties.
 */
<span class="nc" id="L17">public class SpringBootConfigProps {</span>

    public static final String EndPointsPrefix = &quot;endpoints&quot;;
    public static final String ManagementPrefix = &quot;management&quot;;
    public static final String SecurityPrefix = &quot;security&quot;;
    public static final String JmxPrefix = &quot;jmx&quot;;
    public static final String AppInfoPrefix = &quot;info.app&quot;;
    public static final String LogFileKey = &quot;logging.file&quot;;
    public static final String LogLevelPrefix = &quot;logging.level&quot;;
    
    
    public static 
    JPropAccessor&lt;String&gt; endpointId(ActuatorEndPointName which) {
<span class="nc" id="L30">        return makeString(key(EndPointsPrefix, which.name(), &quot;id&quot;));</span>
    }
    
    public static 
    JPropAccessor&lt;Boolean&gt; endpointEnabled(ActuatorEndPointName which) {
<span class="nc" id="L35">        return makeBool(key(EndPointsPrefix, which.name(), &quot;enabled&quot;));</span>
    }
    
    public static 
    Stream&lt;JPropSetter&lt;Boolean&gt;&gt; endpointsEnabled() {
<span class="nc" id="L40">        return Stream.of(ActuatorEndPointName.values())</span>
<span class="nc" id="L41">                     .map(name -&gt; endpointEnabled(name));</span>
    }
    
    public static 
    JPropAccessor&lt;Boolean&gt; endpointSensitive(ActuatorEndPointName which) {
<span class="nc" id="L46">        return makeBool(key(EndPointsPrefix, which.name(), &quot;sensitive&quot;));</span>
    }
    
    public static 
    Stream&lt;JPropSetter&lt;Boolean&gt;&gt; endpointsSensitive() {
<span class="nc" id="L51">        return Stream.of(ActuatorEndPointName.values())</span>
<span class="nc" id="L52">                     .map(name -&gt; endpointSensitive(name));</span>
    }
    
    public static JPropAccessor&lt;String&gt; managementAddress() {
<span class="nc" id="L56">        return makeString(key(ManagementPrefix, &quot;address&quot;));</span>
    }
    /* NB: quoting Spring Boot manual
     * useful if you want to listen only on an internal or ops-facing network, 
     * or to only listen for connections from localhost.
     */
    
    public static JPropAccessor&lt;Integer&gt; managementPort() {
<span class="nc" id="L64">        return makeInt(key(ManagementPrefix, &quot;port&quot;));</span>
    }
    // NB -1 will disable HTTP

    public static JPropAccessor&lt;String&gt; managementContextPath() {
<span class="nc" id="L69">        return makeString(key(ManagementPrefix, &quot;context-path&quot;));</span>
    }
    // NB should be absolute path
    
    public static JPropAccessor&lt;Boolean&gt; securityEnabled() {
<span class="nc" id="L74">        return makeBool(key(ManagementPrefix, SecurityPrefix, &quot;enabled&quot;));</span>
    }
    /* NB: quoting Spring Boot manual
     * If you donâ€™t have Spring Security on the classpath then there is no need 
     * to explicitly disable the management security in this way, and it might 
     * even break the application.
     */
    
    public static JPropAccessor&lt;String&gt; adminUserName() {
<span class="nc" id="L83">        return makeString(key(SecurityPrefix, &quot;user.name&quot;));</span>
    }
    
    public static JPropAccessor&lt;String&gt; adminPassword() {
<span class="nc" id="L87">        return makeString(key(SecurityPrefix, &quot;user.password&quot;));</span>
    }
    
    public static JPropAccessor&lt;String&gt; securityRole() {
<span class="nc" id="L91">        return makeString(key(ManagementPrefix, SecurityPrefix, &quot;role&quot;));</span>
    }
    
    public static JPropAccessor&lt;String&gt; jmxDomain() {
<span class="nc" id="L95">        return makeString(key(EndPointsPrefix, JmxPrefix, &quot;domain&quot;));</span>
    }
    // value is the name of the domain under which to expose end points
    
    public static JPropAccessor&lt;Boolean&gt; jmxUniqueNames() {
<span class="nc" id="L100">        return makeBool(key(EndPointsPrefix, JmxPrefix, &quot;uniqueNames&quot;));</span>
    }
    // value specifies whether to enforce unique bean names in JMX
    
    public static JPropAccessor&lt;Boolean&gt; jmxEnabled() {
<span class="nc" id="L105">        return makeBool(key(&quot;spring&quot;, JmxPrefix, &quot;enabled&quot;));</span>
    }

    public static JPropAccessor&lt;String&gt; appName() {
<span class="nc" id="L109">        return makeString(key(AppInfoPrefix, &quot;name&quot;));</span>
    }
    
    public static JPropAccessor&lt;String&gt; appDescription() {
<span class="nc" id="L113">        return makeString(key(AppInfoPrefix, &quot;description&quot;));</span>
    }

    public static JPropAccessor&lt;String&gt; appVersion() {
<span class="nc" id="L117">        return makeString(key(AppInfoPrefix, &quot;version&quot;));</span>
    }
    
    public static JPropAccessor&lt;String&gt; logFilePathName() {
<span class="nc" id="L121">        return makeString(key(LogFileKey));</span>
    }
    
    public static JPropAccessor&lt;LogLevel&gt; logLevel(String packageName) {
<span class="nc" id="L125">        return makeEnum(LogLevel.class, key(LogLevelPrefix, packageName)); </span>
    }
    
    public static JPropAccessor&lt;LogLevel&gt; rootLogLevel() {
<span class="nc" id="L129">        return logLevel(&quot;ROOT&quot;);</span>
    }
    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.2.201409121644</span>Smuggler All Tests (Mar 29, 2016 9:20:39 AM)</div></body></html>