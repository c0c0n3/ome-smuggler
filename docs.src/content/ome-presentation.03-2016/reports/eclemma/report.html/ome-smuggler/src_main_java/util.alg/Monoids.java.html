<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../.resources/report.gif" type="image/gif"/><title>Monoids.java</title><link rel="stylesheet" href="../../../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../.sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">Smuggler All Tests (Mar 29, 2016 9:20:39 AM)</a> &gt; <a href="../../index.html" class="el_group">ome-smuggler</a> &gt; <a href="../index.html" class="el_bundle">src/main/java</a> &gt; <a href="index.source.html" class="el_package">util.alg</a> &gt; <span class="el_source">Monoids.java</span></div><h1>Monoids.java</h1><pre class="source lang-java linenums">package util.alg;

import static java.util.Objects.requireNonNull;

import java.util.stream.Stream;

/**
 * Operations on monoids.
 */
public class Monoids&lt;T&gt; {

    /**
     * Syntactic sugar to use in place of the {@link #Monoids(Monoid) 
     * constructor}  if you like, e.g.
     * &lt;pre&gt;
     *   Monoids.with(someMonoid)
     *          .fold(streamOfStream)
     * &lt;/pre&gt;
     * @param monoid the monoid to use.
     * @return a new {@code Monoids} instance.
     * @throws NullPointerException if the argument is {@code null}.
     */
    public static &lt;T&gt; Monoids&lt;T&gt; with(Monoid&lt;T&gt; monoid) {
<span class="nc" id="L24">        return new Monoids&lt;&gt;(monoid);</span>
    }
    
    private final Monoid&lt;T&gt; monoid;
    
    /**
     * Creates a new instance to carry out operations on the specified monoid.
     * @param monoid the monoid to use.
     * @throws NullPointerException if the argument is {@code null}.
     */
<span class="fc" id="L34">    public Monoids(Monoid&lt;T&gt; monoid) {</span>
<span class="fc" id="L35">        requireNonNull(monoid, &quot;monoid&quot;);</span>
<span class="fc" id="L36">        this.monoid = monoid;</span>
<span class="fc" id="L37">    }</span>
    
    /**
     * &quot;Multiplies&quot; the given sequence of objects.
     * This is the canonical reduction operation on the free monoid, see e.g. 
     * &lt;a href=&quot;https://en.wikipedia.org/wiki/Monoid#Monoids_in_computer_science&quot;&gt;
     * monoids in computer science&lt;/a&gt;.
     * @param ts the values to multiply.
     * @return the result of multiplying the stream of values.
     * @throws NullPointerException if the argument is {@code null} or any of
     * the contained objects is {@code null}.
     */
    public T fold(Stream&lt;T&gt; ts) {
<span class="fc" id="L50">        requireNonNull(ts, &quot;ts&quot;);</span>
<span class="fc" id="L51">        return ts.reduce(monoid.unit(), monoid::multiply);</span>
    }
    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.2.201409121644</span>Smuggler All Tests (Mar 29, 2016 9:20:39 AM)</div></body></html>