<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../.resources/report.gif" type="image/gif"/><title>MailConfig.java</title><link rel="stylesheet" href="../../../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../.sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">Smuggler All Tests (Mar 29, 2016 9:20:39 AM)</a> &gt; <a href="../../index.html" class="el_group">ome-smuggler</a> &gt; <a href="../index.html" class="el_bundle">src/main/java</a> &gt; <a href="index.source.html" class="el_package">ome.smuggler.config.items</a> &gt; <span class="el_source">MailConfig.java</span></div><h1>MailConfig.java</h1><pre class="source lang-java linenums">package ome.smuggler.config.items;

import java.util.Arrays;
import java.util.Objects;

/**
 * Specifies how to configure the mail service.
 * The available settings:
 * &lt;ul&gt;
 *  &lt;li&gt;{@link #setMailServerHost(String) Mail server host}. The host name of 
 *  the machine where the mail server runs. Mail will be sent to this server.  
 *  &lt;/li&gt;
 *  &lt;li&gt;{@link #setMailServerPort(int) Mail server port}. The port of the mail
 *  server given above.
 *  &lt;/li&gt;
 *  &lt;li&gt;{@link #setUseSmtps(boolean) Secure connection}. If {@code true} then
 *  use SMTPS (i.e. SMTP over TLS/SSL), otherwise plain, unprotected SMTP.
 *  If not specified, it defaults to {@code false} and plain SMTP will be used.
 *  &lt;/li&gt;
 *  &lt;li&gt;{@link #setSkipServerCertificateValidation(boolean) Skip server 
 *  certificate validation}. If set to {@code true} when using an SMTPS 
 *  connection, the mail server certificate is not checked for validity.
 *  Ideally this setting should never be used (security loophole!) but it may be
 *  your only option with a self-signed server certificate which you cannot add
 *  to the Java key store. This setting defaults to {@code false} if not 
 *  specified and will be in any case ignored for an SMTP connection.  
 *  &lt;/li&gt;
 *  &lt;li&gt;{@link #setUsername(String) Username}. The username to log into the
 *  mail server, if required. Leave blank if not needed.
 *  &lt;/li&gt;
 *  &lt;li&gt;{@link #setPassword(String) Password}. The password to log into the
 *  mail server, if required. Leave blank if not needed.
 *  &lt;/li&gt;
 *  &lt;li&gt;{@link MailConfig#setFromAddress(String) From address}. The &quot;from&quot; 
 *  address of each and every mail we send.
 *  &lt;/li&gt;
 *  &lt;li&gt;{@link #setRetryIntervals(Long[]) Retry intervals}.
 *  How many times and at which intervals to retry a failed mail relay.
 *  If a relay fails, it will be retried after the number of minutes given in
 *  the first slot of this array; if the retry fails, it will be attempted again
 *  after the number of minutes given in the second slot of this array; and so
 *  on until the relay succeeds or the last slot is used. So a failed relay
 *  will be retried at most a number of times equal to the length of this array;
 *  if the array is {@code null} or empty, no retries will ever be attempted.
 *  &lt;/li&gt;
 *  &lt;li&gt;{@link #setDeadMailDir(String) Dead mail directory}.
 *  Path to the directory where to store email messages that could not be 
 *  relayed to the mail server, that is, messages whose delivery failed past
 *  the configured number of retries as explained above. 
 *  A message in the dead mail directory will be kept indefinitely, the system 
 *  administrator will have to explicitly delete it after re-sending it to the
 *  intended recipient, for example by inputting the file into a program such
 *  as {@code sendmail}.
 *  Note that directories in the given path will be created if needed.
 *  &lt;/li&gt;
 *  &lt;li&gt;{@link #setSysAdminEmail(String) System administrator's email}.
 *  Optional email address of the system administrator. If specified, every time
 *  an import fails permanently an alert email is sent to this address. 
 *  &lt;/li&gt;
 * &lt;/ul&gt;
 */
<span class="nc" id="L62">public class MailConfig {</span>
    // NB this has to be a Java Bean (i.e. getters/setters, no args ctor) to
    // be (de-)serialized painlessly by SnakeYaml.
    
    private String fromAddress;
    private String mailServerHost;
    private int mailServerPort;
    private boolean useSmtps;
    private boolean skipServerCertificateValidation;
    private String username;
    private String password;
    private Long[] retryIntervals;
    private String deadMailDir;
    private String sysAdminEmail;
    
    public String getMailServerHost() {
<span class="nc" id="L78">        return mailServerHost;</span>
    }
    
    public void setMailServerHost(String host) {
<span class="nc" id="L82">        this.mailServerHost = host;</span>
<span class="nc" id="L83">    }</span>
    
    public int getMailServerPort() {
<span class="nc" id="L86">        return mailServerPort;</span>
    }
    
    public void setMailServerPort(int port) {
<span class="nc" id="L90">        this.mailServerPort = port;</span>
<span class="nc" id="L91">    }</span>
    
    public boolean getUseSmtps() {
<span class="nc" id="L94">        return useSmtps;</span>
    }

    public void setUseSmtps(boolean useSmtps) {
<span class="nc" id="L98">        this.useSmtps = useSmtps;</span>
<span class="nc" id="L99">    }</span>
    
    public boolean getSkipServerCertificateValidation() {
<span class="nc" id="L102">        return skipServerCertificateValidation;</span>
    }

    public void setSkipServerCertificateValidation(boolean skipServerCertificateValidation) {
<span class="nc" id="L106">        this.skipServerCertificateValidation = skipServerCertificateValidation;</span>
<span class="nc" id="L107">    }</span>
    
    public String getUsername() {
<span class="nc" id="L110">        return username;</span>
    }

    public void setUsername(String username) {
<span class="nc" id="L114">        this.username = username;</span>
<span class="nc" id="L115">    }</span>

    public String getPassword() {
<span class="nc" id="L118">        return password;</span>
    }

    public void setPassword(String password) {
<span class="nc" id="L122">        this.password = password;</span>
<span class="nc" id="L123">    }</span>
    
    public String getFromAddress() {
<span class="nc" id="L126">        return fromAddress;</span>
    }

    public void setFromAddress(String fromAddress) {
<span class="nc" id="L130">        this.fromAddress = fromAddress;</span>
<span class="nc" id="L131">    }</span>
    
    public Long[] getRetryIntervals() {
<span class="nc" id="L134">        return retryIntervals;</span>
    }

    public void setRetryIntervals(Long[] retryIntervals) {
<span class="nc" id="L138">        this.retryIntervals = retryIntervals;</span>
<span class="nc" id="L139">    }</span>

    public String getDeadMailDir() {
<span class="nc" id="L142">        return deadMailDir;</span>
    }

    public void setDeadMailDir(String failedRelayDir) {
<span class="nc" id="L146">        this.deadMailDir = failedRelayDir;</span>
<span class="nc" id="L147">    }</span>
    
    public String getSysAdminEmail() {
<span class="nc" id="L150">        return sysAdminEmail;</span>
    }

    public void setSysAdminEmail(String sysAdminEmail) {
<span class="nc" id="L154">        this.sysAdminEmail = sysAdminEmail;</span>
<span class="nc" id="L155">    }</span>
    
    @Override
    public int hashCode() {
<span class="nc" id="L159">        return toString().hashCode();</span>
    }
    
    @Override
    public boolean equals(Object other) {
<span class="nc bnc" id="L164" title="All 2 branches missed.">        if (this == other) {</span>
<span class="nc" id="L165">            return true;</span>
        }
<span class="nc bnc" id="L167" title="All 2 branches missed.">        if (other instanceof MailConfig) {</span>
<span class="nc" id="L168">            return Objects.equals(other.toString(), this.toString());</span>
        }
<span class="nc" id="L170">        return false;</span>
    }
    
    @Override
    public String toString() {
<span class="nc" id="L175">        String xs = Arrays.toString(retryIntervals);</span>
<span class="nc" id="L176">        return String.format(&quot;%s | %s | %s | %s | %s | %s | %s | %s | %s | %s&quot;, </span>
<span class="nc" id="L177">                             mailServerHost, mailServerPort, useSmtps, </span>
<span class="nc" id="L178">                             skipServerCertificateValidation ,username,</span>
<span class="nc" id="L179">                             password, fromAddress, deadMailDir, sysAdminEmail,</span>
<span class="nc" id="L180">                             xs);</span>
    }
    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.2.201409121644</span>Smuggler All Tests (Mar 29, 2016 9:20:39 AM)</div></body></html>